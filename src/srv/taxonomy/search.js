!function(){"use strict";!function t(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",t);function e(t,a){var n=document.querySelector('[name="'.concat(t.getAttribute("data-input"),'"]')),c=new FormData,r=new XMLHttpRequest;n.value=a,n.value!==a&&n.dispatchEvent(new Event("change",{bubbles:!0})),c.append("action","webcomic_update_comic_term_search"),c.append("term",a),r.onreadystatechange=function(){var n,c;if(4===r.readyState)return a?(n=t,c=JSON.parse(r.responseText),n.innerHTML='\n\t\t\t<a class="dashicons dashicons-no">\n\t\t\t\t<span class="screen-reader-text">'.concat(n.getAttribute("data-webcomic-term-search-remove"),"</span>\n\t\t\t</a>\n\t\t\t<strong>").concat(c.title,"</strong><br>\n\t\t\t").concat(c.media),void n.querySelector("a").addEventListener("click",function(){e(n,0)})):(function(t){t.querySelector("input")||(t.innerHTML='<input type="search" id="'.concat(t.getAttribute("data-webcomic-term-search"),'" class="widefat" placeholder="').concat(t.getAttribute("data-webcomic-term-search-search"),'">'));t.querySelector("div")||(t.innerHTML+="<div></div>");t.querySelector("input").addEventListener("input",function(a){var n,c,r,i;n=t,c=a.target.value,r=new FormData,i=new XMLHttpRequest,r.append("action","webcomic_update_comic_term_search"),r.append("query",c),r.append("taxonomy",n.getAttribute("data-webcomic-term-taxonomy")),i.onreadystatechange=function(){4===i.readyState&&function(t,a,n){for(var c='<table class="widefat fixed striped media">',r=0;r<n.length;r++)c+='\n\t\t\t<tr data-id="'.concat(n[r].term_id,'">\n\t\t\t\t<td class="title column-title column-primary">\n\t\t\t\t\t<strong class="has-media-icon">\n\t\t\t\t\t\t<span class="media-icon image-icon">').concat(n[r].webcomic_term_media,"</span>\n\t\t\t\t\t\t").concat(n[r].name,"\n\t\t\t\t\t</strong>\n\t\t\t\t</td>\n\t\t\t</tr>");if(a&&!n.length&&(c+="<tr><td>".concat(t.getAttribute("data-webcomic-term-search-null"),"</td></tr>")),c+="</table>",t.querySelector("div").innerHTML=c.replace('<table class="widefat fixed striped media"></table>',"<small>".concat(t.getAttribute("data-webcomic-term-search-info"),"</small>")),n)for(var i=t.querySelectorAll("[data-id]"),o=function(a){i[a].addEventListener("click",function(){e(t,Number(i[a].getAttribute("data-id")))})},d=0;d<i.length;d++)o(d)}(n,c,JSON.parse(i.responseText))},i.open("POST",ajaxurl),i.send(r)})}(t),void t.querySelector("input").dispatchEvent(new Event("input")))},r.open("POST",ajaxurl),r.send(c)}jQuery(document).on("widget-added widget-updated",function(t,a){if(!a[0].id.match(/_mgsisk_webcomic_/))return;for(var n=a[0].querySelectorAll("[data-webcomic-term-search]"),c=0;c<n.length;c++)e(n[c],Number(document.querySelector('[name="'.concat(n[c].getAttribute("data-input"),'"]')).value))}),function(t){for(var a=0;a<t.length;a++)e(t[a],Number(document.querySelector('[name="'.concat(t[a].getAttribute("data-input"),'"]')).value))}(document.querySelectorAll("[data-webcomic-term-search]"))}()}();
