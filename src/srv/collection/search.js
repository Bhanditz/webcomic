!function(){"use strict";!function t(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",t);function e(t,n){var a=document.querySelector('[name="'+t.getAttribute("data-input")+'"]'),i=new FormData,r=new XMLHttpRequest;a.value=n,a.value!==n&&a.dispatchEvent(new Event("change",{bubbles:!0})),i.append("action","webcomic_update_comic_search"),i.append("post",n),i.append("size",t.getAttribute("data-size")),r.onreadystatechange=function(){var a,i;if(4===r.readyState)return n?(a=t,i=JSON.parse(r.responseText),a.innerHTML='\n\t\t\t<p>\n\t\t\t\t<a class="dashicons dashicons-no">\n\t\t\t\t\t<span class="screen-reader-text">'+webcomicSearchL10n.remove+"</span>\n\t\t\t\t</a>\n\t\t\t\t<strong>"+i.title+"</strong>\n\t\t\t</p>\n\t\t\t"+i.media,void a.querySelector("a").addEventListener("click",function(){e(a,0)})):(function(t){t.querySelector("input")||(t.innerHTML='<input type="search" id="'+t.getAttribute("data-webcomic-search")+'" class="widefat" placeholder="'+webcomicSearchL10n.search+'">');t.querySelector("div")||(t.innerHTML+="<div></div>");t.querySelector("input").addEventListener("input",function(n){var a,i,r,c;a=t,i=n.target.value,r=new FormData,c=new XMLHttpRequest,r.append("action","webcomic_update_comic_search"),r.append("query",i),c.onreadystatechange=function(){4===c.readyState&&function(t,n,a){for(var i='<table class="widefat fixed striped media">',r=0;r<a.length;r++)i+='\n\t\t\t<tr data-id="'+a[r].ID+'">\n\t\t\t\t<td class="title column-title column-primary">\n\t\t\t\t\t<strong class="has-media-icon">\n\t\t\t\t\t\t<span class="media-icon image-icon">'+a[r].webcomic_media+"</span>\n\t\t\t\t\t\t"+a[r].post_title+"\n\t\t\t\t\t</strong>\n\t\t\t\t\t<p>"+a[r].status_label+"</p>\n\t\t\t\t</td>\n\t\t\t</tr>";if(n&&!a.length&&(i+="<tr><td>"+webcomicSearchL10n.null+"</td></tr>"),i+="</table>",t.querySelector("div").innerHTML=i.replace('<table class="widefat fixed striped media"></table>',"<small>"+webcomicSearchL10n.info+"</small>"),a)for(var c=t.querySelectorAll("[data-id]"),d=function(n){c[n].addEventListener("click",function(){e(t,Number(c[n].getAttribute("data-id")))})},o=0;o<c.length;o++)d(o)}(a,i,JSON.parse(c.responseText))},c.open("POST",ajaxurl),c.send(r)})}(t),void t.querySelector("input").dispatchEvent(new Event("input")))},r.open("POST",ajaxurl),r.send(i)}!function(t){for(var n=0;n<t.length;n++)e(t[n],Number(document.querySelector('[name="'+t[n].getAttribute("data-input")+'"]').value))}(document.querySelectorAll("[data-webcomic-search]")),jQuery(document).on("widget-added widget-updated",function(t,n){if(n[0].id.match(/_mgsisk_webcomic_/))for(var a=n[0].querySelectorAll("[data-webcomic-search]"),i=0;i<a.length;i++)e(a[i],Number(document.querySelector('[name="'+a[i].getAttribute("data-input")+'"]').value))})}()}();
