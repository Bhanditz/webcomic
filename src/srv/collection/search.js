!function(){"use strict";!function t(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",t);function e(t,n){var a=document.querySelector('[name="'.concat(t.getAttribute("data-input"),'"]')),c=new FormData,i=new XMLHttpRequest;a.value=n,a.value!==n&&a.dispatchEvent(new Event("change",{bubbles:!0})),c.append("action","webcomic_update_comic_search"),c.append("post",n),c.append("size",t.getAttribute("data-size")),i.onreadystatechange=function(){var a,c;if(4===i.readyState)return n?(a=t,c=JSON.parse(i.responseText),a.innerHTML='\n\t\t\t<p>\n\t\t\t\t<a class="dashicons dashicons-no">\n\t\t\t\t\t<span class="screen-reader-text">'.concat(webcomicSearchL10n.remove,"</span>\n\t\t\t\t</a>\n\t\t\t\t<strong>").concat(c.title,"</strong>\n\t\t\t</p>\n\t\t\t").concat(c.media),void a.querySelector("a").addEventListener("click",function(){e(a,0)})):(function(t){t.querySelector("input")||(t.innerHTML='<input type="search" id="'.concat(t.getAttribute("data-webcomic-search"),'" class="widefat" placeholder="').concat(webcomicSearchL10n.search,'">'));t.querySelector("div")||(t.innerHTML+="<div></div>");t.querySelector("input").addEventListener("input",function(n){var a,c,i,r;a=t,c=n.target.value,i=new FormData,r=new XMLHttpRequest,i.append("action","webcomic_update_comic_search"),i.append("query",c),r.onreadystatechange=function(){4===r.readyState&&function(t,n,a){for(var c='<table class="widefat fixed striped media">',i=0;i<a.length;i++)c+='\n\t\t\t<tr data-id="'.concat(a[i].ID,'">\n\t\t\t\t<td class="title column-title column-primary">\n\t\t\t\t\t<strong class="has-media-icon">\n\t\t\t\t\t\t<span class="media-icon image-icon">').concat(a[i].webcomic_media,"</span>\n\t\t\t\t\t\t").concat(a[i].post_title,"\n\t\t\t\t\t</strong>\n\t\t\t\t\t<p>").concat(a[i].status_label,"</p>\n\t\t\t\t</td>\n\t\t\t</tr>");if(n&&!a.length&&(c+="<tr><td>".concat(webcomicSearchL10n.null,"</td></tr>")),c+="</table>",t.querySelector("div").innerHTML=c.replace('<table class="widefat fixed striped media"></table>',"<small>".concat(webcomicSearchL10n.info,"</small>")),a)for(var r=t.querySelectorAll("[data-id]"),o=function(n){r[n].addEventListener("click",function(){e(t,Number(r[n].getAttribute("data-id")))})},d=0;d<r.length;d++)o(d)}(a,c,JSON.parse(r.responseText))},r.open("POST",ajaxurl),r.send(i)})}(t),void t.querySelector("input").dispatchEvent(new Event("input")))},i.open("POST",ajaxurl),i.send(c)}!function(t){for(var n=0;n<t.length;n++)e(t[n],Number(document.querySelector('[name="'.concat(t[n].getAttribute("data-input"),'"]')).value))}(document.querySelectorAll("[data-webcomic-search]")),jQuery(document).on("widget-added widget-updated",function(t,n){if(n[0].id.match(/_mgsisk_webcomic_/))for(var a=n[0].querySelectorAll("[data-webcomic-search]"),c=0;c<a.length;c++)e(a[c],Number(document.querySelector('[name="'.concat(a[c].getAttribute("data-input"),'"]')).value))})}()}();
