!function(){"use strict";!function e(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",e);!function(e){var t=e.querySelectorAll("tbody > tr"),n=document.createElement("td"),r=document.createElement("th"),a=document.querySelectorAll("input, select");r.innerHTML=webcomicGeneratorL10n.publish,e.querySelector("thead tr").appendChild(r);for(var o=0;o<t.length;o++)t[o].appendChild(n.cloneNode());for(var c=function(e){if(a[e].addEventListener("change",function(){setTimeout(function(){return e=document.querySelector("#webcomic_generator"),t=new FormData(e),n=new XMLHttpRequest,t.append("action","webcomic_generator_preview"),n.onreadystatechange=function(){if(4===n.readyState){for(var e=document.querySelectorAll("table.media tbody > tr td:last-child"),t=[],r=0;r<e.length;r++)e[r].innerHTML="&mdash;";if(n.responseText){t=JSON.parse(n.responseText);for(var a=0;a<t.length;a++)document.querySelector('table.media tbody [data-id="'+t[a].id+'"] td:last-child').innerHTML=t[a].date}}},n.open("POST",ajaxurl),void n.send(t);var e,t,n},1)}),"webcomic_generator[start_date]"!==a[e].name)return"continue";a[e].addEventListener("change",function(){return t=a[e],n=new FormData,r=new XMLHttpRequest,n.append("action","webcomic_generator_start_date"),n.append("date",t.value),r.onreadystatechange=function(){4===r.readyState&&(document.querySelector('label[for="'+t.name+'"]').innerHTML=JSON.parse(r.responseText)[0])},r.open("POST",ajaxurl),void r.send(n);var t,n,r}),a[e].dispatchEvent(new Event("change"))},d=0;d<a.length;d++)c(d)}(document.querySelector("table.media")),jQuery("table.media tbody").sortable({items:"tr",start:function(e,t){t.placeholder.height(t.helper.outerHeight())},stop:function(){document.querySelector('[name="webcomic_generator[collection]"]').dispatchEvent(new Event("change"))}})}()}();
